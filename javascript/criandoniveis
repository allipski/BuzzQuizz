function criarNiveis(){
    pagina.innerHTML = `<h1>Crie suas perguntas</h1>`

    for (let i = 1; i <= 3; i++){
        pagina.innerHTML += 
                `<div class="secondform nivel${i} minimizado">
                    <form>
                        <ion-icon name="open-outline" onClick="abrirBloco(this)"></ion-icon>
                        <h2>Nível ${i}</h2>
                        <input type="text" class="titulo" placeholder="Título do nível">
                        <input type="text" class="porcentagem" placeholder="% de acerto mínima">
                        <input type="text" class="url" placeholder="URL da imagem do nível">
                        <input type="text" class="descricao" placeholder="Descrição do nível">
                    </form>
                </div>`
    }

    const pergunta = document.querySelector(".nivel1")
    pergunta.classList.remove("minimizado")
    pergunta.classList.add("visivel")

    pagina.innerHTML += `<button onClick="criarQuizz()">Finalizar Quizz</button>`
}

criarNiveis()

function validarTitulo () {
    const titulo = document.querySelector(".visivel .titulo")
    let valida = true
    
    if (titulo.value.length < 10) {
        valida = false
    } 

    invalida(titulo, valida, "O título deve ter no mínimo 10 caracteres", "erroTitulo")
    return valida
}

function validarPorcentagem () {
    let valida = true
    let zero = false
    let porcentagem = document.querySelector(".visivel .porcentagem")
        
        
    if (isNaN(porcentagem.value) == false && (porcentagem.value < 0 || porcentagem.value > 100)) {
        valida = false
    }
    
    for (let i = 1; i <= 3; i++){
        porcentagem = document.querySelector(".nivel"+i+" .porcentagem")
        
        if (porcentagem.value == 0){
            zero = true
        }

        if (zero != true && i == 3 ){
            valida = false
            porcentagem = document.querySelector(".visivel .porcentagem")
            invalida(porcentagem, valida, "Pelo menos uma porcentagem tem que ser 0", "erroPorcentagem")
        } else {
            invalida(porcentagem, valida, "A porcentagem deve ser um número entre 0 e 100", "erroPorcentagem")
        }
    }
    return valida
}

function criarQuizz(){
    validarTitulo()
    validarPorcentagem()
}